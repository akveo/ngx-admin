/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */

@mixin nga-sidebar-theme() {

  nga-sidebar {

    font-size: nga-theme(sidebar-font-size);
    line-height: nga-theme(sidebar-line-height);

    @include nga-scrollbars(
        nga-theme(scrollbar-fg),
        nga-theme(scrollbar-bg),
        nga-theme(scrollbar-width));


    .main-container {
      height: nga-theme(sidebar-height);
      width: nga-theme(sidebar-width);
      background: nga-theme(sidebar-bg);
      box-shadow: nga-theme(sidebar-shadow);
    }

    .scrollable {
      padding: nga-theme(sidebar-padding);
      position: relative;
    }

    width: nga-theme(sidebar-width);
    background: nga-theme(sidebar-bg);
    color: nga-theme(sidebar-fg);

    // TODO: width used to use transition on width
    &.collapsed {
      width: 0;
      padding: 0;
      .main-container {
        width: 0;
        padding: 0;
      }
      .scrollable {
        width: 0;
        padding: 0;
        overflow: hidden;
      }

      nga-sidebar-header,  nga-sidebar-footer {
        width: 0;
        padding: 0;
        overflow: hidden;
      }
    }

    &.compacted {
      width: nga-theme(sidebar-width-compact);
      .main-container {
        width: nga-theme(sidebar-width-compact);
      }

      nga-menu {
        width: nga-theme(sidebar-width-compact);
        ul > li {
          border-bottom: 1px solid nga-theme(menu-item-separator);
          transition: border-color 1s ease;

          span, .chevron {
            display: none;
          }
          .menu-group {
            display: block;
            color: transparent;
            width: 0;
            padding-left: 0;
            padding-right: 0;
            overflow: hidden;
          }
          i {
            margin-right: 0;
          }
          a {
            justify-content: center;
          }
          & > .menu-expanded {
            display: none;
          }
        }

      }
      // we need to pull the content
      &.left.fixed ~ .content {
        margin-left: nga-theme(sidebar-width-compact);
      }

      &.fixed.right ~ .content {
        margin-left: 0;
        margin-right: nga-theme(sidebar-width-compact);
      }
    }

    &.fixed.left.collapsed + .content {
      margin-left: 0;
    }

    &.fixed.right.collapsed + .content {
      margin-right: 0;
    }

    &.expanded {
      width: nga-theme(sidebar-width);
      > .scrollable {
        width: nga-theme(sidebar-width);
      }
    }

    nga-sidebar-header {
      padding: nga-theme(sidebar-padding);
      height: nga-theme(sidebar-header-height);
    }

    nga-sidebar-footer {
      padding: nga-theme(sidebar-padding);
      height: nga-theme(sidebar-footer-height);
    }

    nga-menu {
      margin: 0 -#{nga-theme(sidebar-padding)};
      ul > li {
        border-bottom: 1px solid transparent;
      }
    }
  }
}
